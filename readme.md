# DebateOL 服务端

### 运行环境：

- 服务端：
- 当前平台: ubuntu 22.04
- 当前架构: 微服务架构
- rpc服务框架: thrift 0.19.0
- 客户端：
- opencv - 4.8.0
- QT 6.6.0

---

### 网络架构：

- 服务端网络架构：
  边车模式 + rpc + epoll + 线程池
- 客户端网络架构图：
  ![png](./png/NET.png)

---

### 数据流通：

![](./png/数据流通.png "数据流通")

## 与网关之间的通讯方式：

基于frp实现 公网部署frps 内网部署frpc 进行内网穿透

将来会考虑Nginx反向代理

## Web模块：

我们需要一个入口 把从网关接收到的http请求包转发到各个微服务 这个入口就是Webserver

他需要具备以下能力

1. 开放端口对接frp 接受网关信息
2. 根据路由选择对应的微服务
3. 连接服务中心 获取相应配置
4. 反序列化
5. 解析Http请求并且将负载转发
6. 微服务处理过后把对应的包进行返回
7. 序列化返回应答
